(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-84d49f4e"],{3931:function(t,e,s){"use strict";var a=s("cdb1"),i=s.n(a);i.a},8873:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"confirmOrder"},[s("div",{staticClass:"confirmOrder-header"},[s("div",{staticClass:"header-content"},[t._m(0),s("p",[t._v("确认订单")]),s("router-link",{attrs:{to:""}})],1)]),s("div",{staticClass:"content"},[s("div",{staticClass:"section-address"},[s("p",{staticClass:"title"},[t._v("收货地址")]),s("div",{staticClass:"address-body"},[s("ul",[t._l(t.address,(function(e,a){return s("li",{key:a,class:a===t.confirmAddress?"in-section":"",on:{click:function(e){return t.liClick(a)}}},[s("h2",[t._v(t._s(e.name))]),s("p",{staticClass:"phone"},[t._v(t._s(e.phone))]),s("p",{staticClass:"address"},[t._v(t._s(e.address))]),s("span",{staticClass:"el-icon-circle-close",on:{click:function(s){return t.delAddr(e.addr_id)}}})])})),s("li",{staticClass:"add-address",on:{click:function(e){t.dialogFormVisible=!0}}},[s("i",{staticClass:"el-icon-circle-plus-outline"}),s("p",[t._v("添加新地址")])])],2)])]),s("div",{staticClass:"section-goods"},[s("p",{staticClass:"title"},[t._v("商品及优惠券")]),s("div",{staticClass:"goods-list"},[s("ul",t._l(t.getCheckGoods,(function(e){return s("li",{key:e.id},[s("img",{attrs:{src:t.$target+e.productImg}}),s("span",{staticClass:"pro-name"},[t._v(t._s(e.productName))]),s("span",{staticClass:"pro-price"},[t._v(t._s(e.price)+"元 x "+t._s(e.num))]),s("span",{staticClass:"pro-status"}),s("span",{staticClass:"pro-total"},[t._v(t._s(e.price*e.num)+"元")])])})),0)])]),t._m(1),t._m(2),s("div",{staticClass:"section-count"},[s("div",{staticClass:"money-box"},[s("ul",[s("li",[s("span",{staticClass:"title"},[t._v("商品件数：")]),s("span",{staticClass:"value"},[t._v(t._s(t.getCheckNum)+"件")])]),s("li",[s("span",{staticClass:"title"},[t._v("商品总价：")]),s("span",{staticClass:"value"},[t._v(t._s(t.getTotalPrice)+"元")])]),t._m(3),t._m(4),t._m(5),s("li",{staticClass:"total"},[s("span",{staticClass:"title"},[t._v("应付总额：")]),s("span",{staticClass:"value"},[s("span",{staticClass:"total-price"},[t._v(t._s(t.getTotalPrice))]),t._v("元 ")])])])])]),s("div",{staticClass:"section-bar"},[s("div",{staticClass:"btn"},[s("router-link",{staticClass:"btn-base btn-return",attrs:{to:"/shoppingCart"}},[t._v("返回购物车")]),s("a",{staticClass:"btn-base btn-primary",attrs:{href:"javascript:void(0);"},on:{click:t.addOrder}},[t._v("结算")])],1)])]),s("el-dialog",{attrs:{title:"收货地址",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[s("el-form",{attrs:{model:t.addr,"label-position":"left"}},[s("el-form-item",{attrs:{label:"昵称","label-width":t.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off",clearable:""},model:{value:t.addr.name,callback:function(e){t.$set(t.addr,"name",e)},expression:"addr.name"}})],1),s("el-form-item",{attrs:{label:"电话","label-width":t.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off",clearable:""},model:{value:t.addr.phone,callback:function(e){t.$set(t.addr,"phone",e)},expression:"addr.phone"}})],1),s("el-form-item",{attrs:{label:"地址","label-width":t.formLabelWidth}},[s("el-input",{attrs:{type:"textarea",role:1,autocomplete:"off",clearable:""},model:{value:t.addr.address,callback:function(e){t.$set(t.addr,"address",e)},expression:"addr.address"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.addAddr}},[t._v("确 定")])],1)],1)],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("i",{staticClass:"el-icon-s-order"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section-shipment"},[s("p",{staticClass:"title"},[t._v("配送方式")]),s("p",{staticClass:"shipment"},[t._v("包邮")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section-invoice"},[s("p",{staticClass:"title"},[t._v("发票")]),s("p",{staticClass:"invoice"},[t._v("电子发票")]),s("p",{staticClass:"invoice"},[t._v("个人")]),s("p",{staticClass:"invoice"},[t._v("商品明细")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("span",{staticClass:"title"},[t._v("活动优惠：")]),s("span",{staticClass:"value"},[t._v("-0元")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("span",{staticClass:"title"},[t._v("优惠券抵扣：")]),s("span",{staticClass:"value"},[t._v("-0元")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("span",{staticClass:"title"},[t._v("运费：")]),s("span",{staticClass:"value"},[t._v("0元")])])}],r=(s("a4d3"),s("4de4"),s("4160"),s("b0c0"),s("e439"),s("dbb4"),s("b64b"),s("d3b7"),s("159b"),s("ade3")),n=s("2f62");function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach((function(e){Object(r["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var l={name:"",data:function(){return{dialogFormVisible:!1,addr:{addr_id:"",name:"",phone:"",address:""},formLabelWidth:"60px",confirmAddress:0,address:[{addr_id:2,name:"蓝同学",phone:"13580018623",address:"浙江省 宁波市 海曙区"}]}},created:function(){this.getCheckNum<1&&(this.notifyError("请勾选商品后再结算"),this.$router.push({path:"/shoppingCart"})),console.log("get----------"),this.getAddrByUser()},computed:o({},Object(n["c"])(["getCheckNum","getTotalPrice","getCheckGoods"])),methods:o({},Object(n["b"])(["deleteShoppingCart"]),{getAddrByUser:function(){var t=this;this.$axios.post("/api/addr/get_by_user",{user_id:this.$store.getters.getUser.user_id}).then((function(e){"001"===e.data.code&&(t.address=e.data.result)})).catch((function(t){return Promise.reject(t)}))},delAddr:function(t){var e=this;this.$confirm("此操作将永久删除该地址, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$axios.post("/api/addr/del",{addr_id:t}).then((function(t){"001"===t.data.code&&e.$message({type:"success",message:"删除成功!"}),e.getAddrByUser()})).catch((function(t){return Promise.reject(t)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},addAddr:function(){var t=this;this.dialogFormVisible=!1,this.$axios.post("/api/addr/add",{name:this.addr.name,phone:this.addr.phone,address:this.addr.address,user_id:this.$store.getters.getUser.user_id}).then((function(e){"001"===e.data.code&&(t.$notify({title:"成功",message:"地址添加成功！！！",type:"success"}),t.getAddrByUser())})).catch((function(t){return Promise.reject(t)}))},addOrder:function(){var t=this;this.$axios.post("/api/user/order/addOrder",{user_id:this.$store.getters.getUser.user_id,products:this.getCheckGoods}).then((function(e){var s=t.getCheckGoods;switch(e.data.code){case"001":for(var a=0;a<s.length;a++){var i=s[a];t.deleteShoppingCart(i.id)}t.notifySucceed(e.data.msg),t.$router.push({path:"/order"});break;default:t.notifyError(e.data.msg)}})).catch((function(t){return Promise.reject(t)}))},liClick:function(t){this.confirmAddress=t}})},d=l,u=(s("3931"),s("2877")),p=Object(u["a"])(d,a,i,!1,null,"fc73f1b8",null);e["default"]=p.exports},cdb1:function(t,e,s){}}]);
//# sourceMappingURL=chunk-84d49f4e.2ed079ce.js.map